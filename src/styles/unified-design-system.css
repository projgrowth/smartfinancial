@tailwind components;
@tailwind utilities;

@layer components {
  /* ========================================
     PERFORMANCE - Layout Containment
     ======================================== */
  
  .chart-contain {
    contain: size layout style;
    position: relative;
    transform: translateZ(0);
  }

  .section-contain {
    contain: layout style paint;
  }

  /* ========================================
     TYPOGRAPHY - Fluid Scale
     ======================================== */
  
  .heading-display-fluid {
    font-size: clamp(2.25rem, 5vw + 0.5rem, 4.75rem);
    line-height: 1.05;
    letter-spacing: -0.025em;
    @apply font-heading font-medium;
  }

  .heading-xl {
    font-size: clamp(2rem, 4vw + 0.5rem, 3.5rem);
    line-height: 1.1;
    letter-spacing: -0.02em;
    @apply font-heading font-medium;
  }

  .heading-lg {
    font-size: clamp(1.75rem, 3.5vw + 0.5rem, 2.5rem);
    line-height: 1.2;
    letter-spacing: -0.01em;
    @apply font-heading font-medium;
  }

  .heading-md {
    font-size: clamp(1.5rem, 2.5vw + 0.5rem, 1.875rem);
    line-height: 1.25;
    @apply font-heading font-medium;
  }

  .heading-sm {
    font-size: clamp(1.125rem, 2vw + 0.25rem, 1.5rem);
    line-height: 1.3;
    @apply font-heading font-medium;
  }

  .heading-xs {
    font-size: clamp(1rem, 1.5vw + 0.25rem, 1.25rem);
    line-height: 1.35;
    @apply font-heading font-medium;
  }

  .text-body-xl {
    font-size: clamp(1.125rem, 1.5vw + 0.25rem, 1.25rem);
    @apply leading-relaxed;
    max-width: 65ch;
  }

  .text-body-lg {
    font-size: clamp(1rem, 1.25vw + 0.25rem, 1.125rem);
    @apply leading-relaxed;
    max-width: 68ch;
  }

  .text-body {
    font-size: clamp(0.875rem, 1vw + 0.25rem, 1rem);
    @apply leading-relaxed;
    max-width: 70ch;
  }

  .text-body-sm {
    font-size: clamp(0.75rem, 0.75vw + 0.25rem, 0.875rem);
    @apply leading-relaxed;
  }

  .text-caption {
    font-size: clamp(0.75rem, 0.7rem + 0.15vw, 0.8125rem);
    line-height: 1.5;
  }

  .text-nav-brand {
    font-size: clamp(1.125rem, 1.75vw + 0.25rem, 1.5rem);
    @apply font-heading font-medium;
  }

  .text-nav-link {
    font-size: clamp(0.875rem, 1vw + 0.125rem, 1rem);
    @apply font-medium;
  }

  .text-balance { text-wrap: balance; }
  .text-pretty { text-wrap: pretty; }

  .text-gradient {
    background: linear-gradient(90deg, hsl(var(--charcoal)) 0%, hsl(var(--charcoal-light)) 100%);
    @apply bg-clip-text text-transparent;
  }

  .text-gradient-gold {
    background: linear-gradient(90deg, hsl(var(--gold-dark)) 0%, hsl(var(--gold)) 50%, hsl(var(--gold-light)) 100%);
    @apply bg-clip-text text-transparent;
  }

  .text-gradient-accent {
    background: linear-gradient(90deg, hsl(var(--primary)) 0%, hsl(var(--accent)) 35%, hsl(var(--gold)) 70%, hsl(var(--accent)) 100%);
    background-size: 300% auto;
    @apply bg-clip-text text-transparent;
    animation: gradient-shift 6s ease-in-out infinite;
  }

  /* ========================================
     CONTAINERS
     ======================================== */
  
  .container-default {
    width: 100%;
    max-width: var(--container-default);
    margin-inline: auto;
    padding-inline: var(--gutter);
  }

  .container-narrow {
    width: 100%;
    max-width: var(--container-narrow);
    margin-inline: auto;
    padding-inline: var(--gutter);
  }

  .container-wide {
    width: 100%;
    max-width: var(--container-wide);
    margin-inline: auto;
    padding-inline: var(--gutter);
  }

  /* ========================================
     SECTION SPACING
     ======================================== */
  
  .section-xl { @apply py-16 md:py-24 lg:py-32; }
  .section-lg { @apply py-12 md:py-20 lg:py-24; }
  .section-md { @apply py-10 md:py-16 lg:py-20; }
  .section-sm { @apply py-8 md:py-12 lg:py-16; }

  /* Component vertical spacing */
  .space-component-xl { @apply space-y-12 md:space-y-16; }
  .space-component-lg { @apply space-y-8 md:space-y-12; }
  .space-component-md { @apply space-y-6 md:space-y-8; }
  .space-component-sm { @apply space-y-4 md:space-y-6; }
  .space-component-xs { @apply space-y-2 md:space-y-4; }

  /* Gap utilities */
  .gap-unified-xl { @apply gap-8 md:gap-12; }
  .gap-unified-lg { @apply gap-6 md:gap-8; }
  .gap-unified-md { @apply gap-4 md:gap-6; }
  .gap-unified-sm { @apply gap-3 md:gap-4; }
  .gap-unified-xs { @apply gap-2 md:gap-3; }

  /* ========================================
     GRIDS
     ======================================== */
  
  .grid-12 {
    @apply grid gap-unified-lg;
    grid-template-columns: repeat(12, 1fr);
  }

  .grid-auto {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-unified-lg;
  }

  .grid-two-col {
    @apply grid grid-cols-1 md:grid-cols-2 gap-unified-lg;
  }

  .grid-three-col {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-unified-lg;
  }

  .grid-four-col {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-unified-lg;
  }

  .grid-time-slots {
    @apply grid grid-cols-2 sm:grid-cols-3 gap-2;
  }

  .grid-metrics {
    @apply grid grid-cols-2 md:grid-cols-4 gap-unified-md;
  }

  .grid-footer {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-unified-lg;
  }

  .grid-footer > :first-child {
    @apply lg:col-span-2;
  }

  /* ========================================
     TOUCH & INTERACTION
     ======================================== */
  
  .touch-target { @apply min-h-11 min-w-11; }
  .touch-target-lg { @apply min-h-12 min-w-12; }

  .touch-target-enhanced {
    @apply min-h-12 min-w-12 inline-flex items-center justify-center;
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
  }

  /* Hover effects - single source of truth */
  .hover-lift {
    @apply transition-all duration-150 hover:-translate-y-1 hover:shadow-lg;
  }

  .hover-scale {
    @apply transition-transform duration-150 hover:scale-[1.02];
  }

  .hover-glow {
    @apply transition-shadow duration-150 hover:shadow-lg;
  }

  /* ========================================
     IMAGES
     ======================================== */
  
  .img-headshot {
    @apply aspect-square object-cover object-center;
  }

  .img-headshot-top {
    @apply aspect-square object-cover object-[center_20%];
  }

  /* ========================================
     CARD UTILITIES
     ======================================== */
  
  .card-equal-height { @apply h-full flex flex-col; }
  .card-content-grow { @apply flex-grow; }

  .card-premium {
    @apply bg-card/95 backdrop-blur-md border border-border/50 rounded-xl shadow-md;
  }

  .card-premium-interactive {
    @apply card-premium hover:border-accent/30 hover:-translate-y-1 hover:shadow-lg transition-all duration-150;
  }

  /* ========================================
     FORMS
     ======================================== */
  
  .form-group { @apply mb-4; }

  .form-label {
    @apply block text-sm font-medium text-foreground mb-1;
  }

  .form-input {
    @apply w-full px-3 py-2 bg-card border border-border rounded-md shadow-sm
           focus:outline-none focus:ring-2 focus:ring-accent/30 focus:border-accent transition-all duration-150;
  }

  .input-primary {
    @apply w-full px-4 py-2 border border-border rounded-md 
           focus:outline-none focus:ring-2 focus:ring-gold/50 focus:border-transparent transition-all duration-150;
  }

  .divider { @apply w-full h-px bg-border; }

  /* ========================================
     DARK SURFACE UTILITIES
     ======================================== */
  
  .surface-dark {
    @apply bg-white/20 border border-white/30 backdrop-blur-md shadow-lg;
  }

  .surface-dark-elevated {
    @apply bg-white/25 border border-white/40 backdrop-blur-md shadow-lg;
  }

  .input-dark {
    @apply bg-white/10 border-white/20 text-white placeholder:text-white/50 
           focus:border-white/40 focus:ring-white/20;
  }

  .text-on-dark { @apply text-white; }
  .text-on-dark-secondary { @apply text-white/80; }
  .text-on-dark-muted { @apply text-white/60; }

  /* ========================================
     NAVIGATION
     ======================================== */
  
  .nav-link {
    @apply relative overflow-hidden inline-block px-1 py-1 
           text-foreground/80 hover:text-foreground transition-colors duration-150;
  }

  .nav-link::after {
    @apply content-[''] absolute bottom-0 left-0 w-full h-[1px] 
           bg-gold scale-x-0 origin-bottom-right transition-transform duration-150;
  }

  .nav-link:hover::after { @apply scale-x-100 origin-bottom-left; }
  .nav-link-active { @apply text-gold; }
  .nav-link-active::after { @apply scale-x-100; }

  /* ========================================
     BADGES
     ======================================== */
  
  .badge {
    @apply inline-flex items-center justify-center px-2.5 py-0.5 
           rounded-full text-xs font-medium transition-colors duration-150;
  }

  .badge-primary { @apply bg-primary/10 text-foreground hover:bg-primary/20; }
  .badge-accent { @apply bg-gold/20 text-foreground hover:bg-gold/30; }
  .badge-outline { @apply bg-transparent border border-border text-foreground hover:bg-primary/5; }

  /* ========================================
     FOCUS STATES
     ======================================== */
  
  .focus-enhanced {
    @apply focus-visible:outline-none focus-visible:ring-2 
           focus-visible:ring-accent/50 focus-visible:ring-offset-2 transition-shadow duration-150;
  }

  .focus-ring {
    @apply focus-visible:ring-2 focus-visible:ring-accent/50 
           focus-visible:ring-offset-2 focus-visible:ring-offset-background;
  }

  /* ========================================
     SCROLLBAR
     ======================================== */
  
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--muted)) hsl(var(--background));
  }

  .scrollbar-thin::-webkit-scrollbar { width: 6px; }
  .scrollbar-thin::-webkit-scrollbar-track { background: hsl(var(--background)); }
  .scrollbar-thin::-webkit-scrollbar-thumb { 
    background: hsl(var(--muted)); 
    border-radius: 3px; 
  }

  /* ========================================
     GLASS EFFECTS
     ======================================== */
  
  .glass-effect {
    @apply backdrop-blur-md bg-card/60 border border-border/20;
  }

  .glass-effect-dark {
    @apply backdrop-blur-md bg-white/10 border border-white/20;
  }

  /* ========================================
     SECTION BACKGROUNDS
     ======================================== */
  
  .section-bg-primary { @apply bg-background relative; }
  .section-bg-subtle { @apply bg-muted/10 relative; }
  .section-bg-accent { @apply bg-gradient-to-br from-accent/5 to-background relative; }
  .section-bg-muted { @apply bg-muted/30 relative; }

  .section-bg-premium-light {
    @apply relative;
    background: linear-gradient(135deg, hsl(var(--background)) 0%, hsl(var(--accent) / 0.12) 50%, hsl(var(--background)) 100%);
  }

  .section-bg-premium-dark {
    @apply relative;
    background: linear-gradient(to bottom right, hsl(var(--primary) / 0.98), hsl(var(--primary)), hsl(var(--primary) / 0.95));
  }

  .section-bg-premium-dark::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(ellipse at center, transparent 40%, hsl(var(--primary) / 0.6) 100%);
    pointer-events: none;
    z-index: 0;
  }

  /* ========================================
     FOOTER
     ======================================== */
  
  .footer-nav-link {
    @apply text-white/80 hover:text-white transition-colors duration-150 touch-target focus-enhanced;
  }

  .footer-icon-link {
    @apply bg-white/10 hover:bg-white/20 transition-all duration-150 
           touch-target-lg rounded-full flex items-center justify-center text-white focus-enhanced;
  }

  .footer-contact-icon {
    @apply w-5 h-5 text-white/80 flex-shrink-0 transition-transform duration-150 group-hover:scale-110;
  }

  .footer-back-to-top {
    @apply text-white/80 hover:text-white transition-colors underline 
           focus-enhanced inline-flex items-center gap-2;
  }

  /* ========================================
     HERO & CTA
     ======================================== */
  
  .cta-content-container { @apply max-w-4xl mx-auto text-center; }
  .hero-cta-button { @apply text-sm sm:text-base px-4 sm:px-6 focus-enhanced transition-transform duration-150; }
  .hero-scroll-indicator { @apply touch-target focus-enhanced; }

  /* ========================================
     TABS - Dark Theme
     ======================================== */
  
  .tabs-list-dark {
    @apply w-full max-w-md mx-auto mb-10 rounded-full overflow-hidden border border-white/20 bg-white/5;
  }

  .tabs-trigger-dark {
    @apply flex-1 font-medium py-2.5 rounded-full transition-colors duration-150 text-white/60
           focus-visible:ring-2 focus-visible:ring-white/30 focus-visible:outline-none;
  }

  .tabs-trigger-dark[data-state="active"] {
    @apply bg-white/10 text-white;
  }
}
